// style.less
// v 1.0.0

// VARIABLES

// TYPOGRAPHY
  /*@import '../fonts/geomanist/100/stylesheet.css';
  @import '../fonts/geomanist/200/stylesheet.css';
  @import '../fonts/geomanist/300/stylesheet.css';
  @import '../fonts/geomanist/400/stylesheet.css';
  @import '../fonts/geomanist/500/stylesheet.css';
  @import '../fonts/geomanist/600/stylesheet.css';
  @import '../fonts/geomanist/700/stylesheet.css';
  @import '../fonts/geomanist/800/stylesheet.css';
  @import '../fonts/geomanist/900/stylesheet.css';*/

  @uiFamily: 'AvenirNext-Regular';
  @ueFamily: 'AvenirNext-Regular';
  @iconFamily: 'coeo2';
  
  @uiBodySize: 1.7rem;

  @touchBase: 60px;
  @statusBarHeight: 0px;
  @navHeight: (@touchBase + @statusBarHeight);

  //@appBGsolid: rgb(248,243,231); //F8F3E7
  @appBGsolid: #fff;
  @mainColor: #373737;
  @screenBG: @appBGsolid;
  @cardBG: #fff;
  @modalBG: #fafafa;
  @tint: #6C3F93;
  @tintAlt: #2E3192;
  @successColor: #7ED321;
  @errorColor: #D0021B;
  @actionsheetBG: rgba(0,0,0,0.87);

  @timingFunction: cubic-bezier(.18,.98,.56,1);

// CORE CLASSES
  .hidden {
    display: none !important;
  }
  .touchable {
    -webkit-transition: all 300ms @timingFunction;
    opacity: 1;
  }
  .touched, .disabled {
    opacity: 0.37;
  }
  .flexContainer {
    display: -ms-flexbox !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-flex-wrap: nowrap !important;
    -ms-flex-wrap: nowrap !important;
    flex-wrap: nowrap !important;
    -webkit-flex-direction: column !important;
    -ms-flex-direction: column !important;
    flex-direction: column !important;
    -webkit-justify-content: center !important;
    -ms-flex-pack: center !important;
    justify-content: center !important;
    -webkit-align-content: stretch !important;
    -ms-flex-line-pack: stretch !important;
    align-content: stretch !important;
    -webkit-align-items: center !important;
    -ms-flex-align: center !important;
    align-items: center !important;
    &.flexContainerRow {
      -webkit-flex-direction: row !important;
      -ms-flex-direction: row !important;
      flex-direction: row !important;
    }
    &.flexContainerColumn {
      -webkit-flex-direction: column !important;
      -ms-flex-direction: column !important;
      flex-direction: column !important;
    }
    &.flexContainerSpaceAround {
      -webkit-justify-content: space-around !important;
      -ms-flex-pack: distribute !important;
      justify-content: space-around !important;
    }
  }
  .flexItem {
    -webkit-order: 0 !important;
    -ms-flex-order: 0 !important;
    order: 0 !important;
    -webkit-flex: 0 0 auto !important;
    -ms-flex: 0 0 auto !important;
    flex: 0 0 auto !important;
    -webkit-align-self: auto !important;
    -ms-flex-item-align: auto !important;
    align-self: auto !important;
    &.flexItemElastic {
      -webkit-flex: 1 1 auto !important;
      -ms-flex: 1 1 auto !important;
      flex: 1 1 auto !important;
    }
  }

// ANIMATION CLASSES ========================
  .animate(@d:300ms){
    -webkit-transition: all @d @timingFunction !important;
  }
  .animate300 {
    .animate(300ms);
  }
  .animate500 {
    .animate(500ms);
  }
  .tilt {
    -webkit-transform: perspective( 290vh ) rotateX( 15deg );
    -webkit-filter: brightness(0.75);
  }
  .tiltBack {
    -webkit-transform: perspective(290vh) rotateX(9deg) rotateY(-65deg) rotateZ(8deg);
    -webkit-filter: brightness(0.45);
  }
  .viewportBottom {
    -webkit-transform: translateY( 100% );
  }
  .fadeAway {
    //-webkit-transform: perspective( 200vh ) rotateX( 15deg );
    -webkit-filter: grayscale(1) brightness(0.25);
  }
  .spinFaceLeft {
    -webkit-transform: rotate(545deg);
  }
  .spinFaceUp {
    -webkit-transform: rotate(630deg);
  }
  .shrinkTopMiddle {
    -webkit-transform-origin: 50% 0%;
    -webkit-transform: scale(0.25);
  }
  //infinite rotate
  @-webkit-keyframes spin {
    from { -webkit-transform: rotate(0deg); }
    to   { -webkit-transform: rotate(360deg); }
  }
  .infiniteSpin {
    -webkit-animation-name: spin;
    -webkit-animation-duration: 750ms;
    -webkit-animation-iteration-count: infinite;
    -webkit-animation-timing-function: linear;
  }
  //overlay animation
  .show-overlay{
    animation: bring-in-overlay @timingFunction 0.25s;
    animation-iteration-count: 1;
    transform-origin: 50% 50%;
    animation-fill-mode:forwards; /*when the spec is finished*/
    -webkit-animation: bring-in-overlay @timingFunction 0.25s;
    -webkit-animation-iteration-count: 1;
    -webkit-transform-origin: 50% 50%;
    -webkit-animation-fill-mode:forwards; /*Chrome 16+, Safari 4+*/ 
  }
  @keyframes bring-in-overlay{
    0% {
      opacity:0;
      transform:  translate(-100%,-100%)  ;
    }
    1% {
      opacity:0;
      transform:  translate(0px,0px)  ;
    }
    100% {
      opacity:1;
      transform:  translate(0px,0px)  ;
    }
  }
  @-webkit-keyframes bring-in-overlay {
    0% {
      opacity:0;
      -webkit-transform:  translate(-100%,-100%)  ;
    }
    1% {
      opacity:0;
      -webkit-transform:  translate(0px,0px)  ;
    }
    100% {
      opacity:1;
      -webkit-transform:  translate(0px,0px)  ;
    }
  }
  //user-card animation
  .show-user-card{
    animation: bring-in-user-card @timingFunction 0.55s;
    animation-delay: 0.25s;
    animation-iteration-count: 1;
    transform-origin: 50% 50%;
    animation-fill-mode:forwards; /*when the spec is finished*/
    -webkit-animation: bring-in-user-card @timingFunction 0.55s;
    -webkit-animation-delay: 0.25s;
    -webkit-animation-iteration-count: 1;
    -webkit-transform-origin: 50% 50%;
    -webkit-animation-fill-mode:forwards; /*Chrome 16+, Safari 4+*/ 
  }
  @keyframes bring-in-user-card {
    0% {
      opacity:0;
      transform:  translate(0px,-10px) rotate(-3deg) scale(1.05);
    }
    100% {
      opacity:1;
      transform:  translate(0px,0px) rotate(0deg) scale(1);
    }
  }
  @-webkit-keyframes bring-in-user-card {
    0% {
      opacity:0;
      -webkit-transform:  translate(0px,-10px) rotate(-3deg) scale(1.05);
    }
    100% {
      opacity:1;
      -webkit-transform:  translate(0px,0px) rotate(0deg)  scale(1);
    }
  }



// DEFINITIONS

  * {
    -webkit-tap-highlight-color: rgba(0,0,0,0); /* make transparent link selection, adjust last value opacity 0 to 1.0 */
    -webkit-box-sizing: border-box;
    -webkit-touch-callout: none;
    -webkit-user-drag: none;
    -webkit-user-modify: none;
    -webkit-highlight: none;

    -webkit-touch-callout:  none;
    -webkit-user-select:    none;
    -khtml-user-select:     none;
    -moz-user-select:       none;
    -ms-user-select:        none;
    -o-user-select:         none;
    user-select:            none;
  }

  html {
    height: 100%; width: 100%;
    font-size: 10px;
  }

  body {
    -webkit-touch-callout: none;                /* prevent callout to copy image, etc when tap to hold */
    -webkit-text-size-adjust: none;             /* prevent webkit from resizing text to fit */
    -webkit-user-select: none;                  /* prevent copy paste, to allow, change 'none' to 'text' */
    font-family: @uiFamily;
    font-size:10px;
    height:100%; width:100%;
    margin:0px; padding:0px;
    color: @mainColor;
    background-color: @appBGsolid;
  }

  app {
    .animate(500ms);
    display: block;
    position: fixed;
    top: 0px; left: 0px;
    width: 100%; height: 100%;
    -webkit-transform-origin: 100% 100%;
    overflow: hidden;
    -webkit-filter: brightness(1);
  }

  screen {
    display: block;
    position: fixed;
    top: 0px; left: 0px;
    width: 100%; height: 100%;
    background-color: @appBGsolid;
  }

// FORM ELEMENTS

  form {
    display: block;
    margin: 4em auto; padding: 0;
    fieldset {
      -webkit-appearance: none;
      margin: 0; padding: 0; border: none !important;
      display: block;
      input[type="text"], input[type="email"], input[type="date"], input[type="datetime-local"], input[type="password"], textarea {
        -webkit-user-select: initial;
        position: relative;
        display: block;
        width: 100%;
        margin: 0; border: none;
        -webkit-appearance: none;
        padding: (@uiBodySize/1.5);
        text-align: left;
        outline: none;
        background-color: rgba(0,0,0,0);
        font-family: @ueFamily;
        font-size: @uiBodySize;
        font-weight: 600;
        color: @mainColor;
      }
      input[type="text"]::-webkit-input-placeholder, input[type="email"]::-webkit-input-placeholder, input[type="date"]::-webkit-input-placeholder, input[type="datetime-local"]::-webkit-input-placeholder, input[type="password"]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {
        font-family: @uiFamily;
        font-size: @uiBodySize;
        font-weight: 400;
      }
      input[type="text"].haslabel::after {
        content: attr(data-label);
        position: absolute;
        top: 0rem; left: 0rem;
        font-family: @ueFamily;
        font-size: @uiBodySize;
        font-weight: 400;
        color: @mainColor;
        opacity: 0.37;
      }
      field {
        display: block;
        position: relative;
        height: @touchBase;
        border-top: 0.1rem solid darken(@modalBG, 3%);
        input[type="checkbox"] {
          -webkit-user-select: initial;
          -webkit-appearance: none;
          width: (@touchBase / 2);
          height: (@touchBase / 2);
          display: inline-block;
          position: absolute;
          top: (@touchBase / 4);
          right: (@touchBase / 4);
          padding: 0rem;
          margin: 0rem;
          border: none;
          background-color: transparent; 
        }
        label {
          display: inline-block;
          position: absolute;
          left: 0rem;
          width: 100%;
          line-height: @touchBase;
          white-space: nowrap;
          text-overflow: ellipsis;
          overflow: hidden;
          font-family: @uiFamily;
          font-size: @uiBodySize;
          font-weight: 400;
          padding-left: 1rem;
          padding-right: (@touchBase * 1.25);
          opacity: 0.67;
        }
        input[type="checkbox"]:checked {
          background-color: transparent;
        }
        input[type="checkbox"] + label::before {
          content: '';
          display: inline-block;
          position: absolute;
          //width: (@touchBase * (40/60));
          width: (@touchBase * (22/60));
          height: (@touchBase * (22/60));
          top: (@touchBase * (16/60));
          right: (@touchBase * (20/60));
          background-color: darken(@appBGsolid, 5%);
          border: 0.2rem solid darken(@appBGsolid, 5%);
          border-radius: (@touchBase / 3);
        }
        input[type="checkbox"]:checked + label::after {
          content: '';
          display: inline-block;
          position: absolute;
          width: (@touchBase * (16/60));
          height: (@touchBase * (16/60));
          top: (@touchBase * (21/60));
          right: (@touchBase * (25/60));
          background-color: @successColor;
          border-radius: (@touchBase / 4);
        }
        /*input[type="checkbox"] + label::after {
          content: '';
          display: inline-block;
          position: absolute;
          width: (@touchBase / 4);
          height: (@touchBase / 4);
          top: (@touchBase * 0.35);
          right: (@touchBase / 4);
          background-color: darken(@appBGsolid, 15%);
          border-radius: (@touchBase / 4);
        }*/
      }
    }
  }
  button {
    -webkit-appearance: none;
    font-size: @uiBodySize;
    font-family: @uiFamily;
    font-weight: 600;
    padding: (@uiBodySize/1.5);
    border: 0.135em solid @tint;
    border-radius: 0.5em;
    background: none;
    color: @tint;
    text-transform: uppercase;
    img {
      height: 100%;
      max-height: @touchBase;
      width: auto;
      vertical-align: middle;
    }
  }
  button:disabled {
    opacity: 0.17;
  }
  button.action {
    border: none;
    border-radius: 0;
    color: #fff;
    background-color: @tint;
    width: 100%; height: @touchBase;
  }
  button.primary {
    border: none;
    border-radius: 0.5rem;
    color: @appBGsolid;
    background-color: @tint;
    width: 100%;
  }
  button.text {
    border: none;
  }
  button.textMinor {
    border: none;
    color: lighten(@mainColor,55%);
  }
  horizontalButtonGroup {
    width: 100%;
    //flexbox definition
    display: -webkit-flex;
    -webkit-box-direction: normal;
    -webkit-box-orient: horizontal;
    -webkit-flex-direction: row;
    -webkit-flex-wrap: nowrap;
    -webkit-box-pack: start;
    -webkit-justify-content: space-between;
    -webkit-align-content: stretch;
    -webkit-box-align: start;
    -webkit-align-items: center;
    padding: 0px 1em;
    button {
      -webkit-box-ordinal-group: 1;
      -webkit-order: 0;
      -webkit-align-self: auto;
      -webkit-flex: 0 0 auto;
      display: inline;
      width: auto !important;
    }
  }
  a {
    font-size: @uiBodySize;
    color: @tint;
    text-decoration: none;
  }